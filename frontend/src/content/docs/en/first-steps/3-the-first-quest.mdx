---
title: The First Quest
description: Finally, your first quest! What will it be...
---

import CodeQuestion from "@components/CodeQuestion.astro";

export const quest = 
`Welcome Adventurer.
Your first quest is... To help the local grocer sort some vegetables!

We expect great things of you.
The Adventurer's Guild`;

Finally, your first quest!

What will it be?  
Kill some monsters? Rescue a lost princess?

Let's find out!

<CodeQuestion
  code="read_quest()"
  setup={`fn read_quest() { println!("${quest}") } __VALUE__`}
  editable={false}
  showLineNumbers={false}
/>

...well, let's do it then.

---

The grocery store has all the vegetables stored in magical crates.  
Each crate has a label indicating what vegetable it contains, and a panel with the number of vegetables in it.

Since the crates are magical, their panel automatically updates when the number of vegetables in it changes.

The grocer wants to know how many vegetables there are in total.  
Unfortunately, he's really bad at math, and can't add up the numbers every time.

Therefore, he needs you to come up with a way to calculate the total using the magical properties of the crates.

He presents you with the following code, which represents the crates and their contents:

export const code = 
`let potatoes = 5;
let carrots  = 4;
let onions   = 2;

let total = ? + ? + ?;`;
export const setup =
`__VALUE__
if total == potatoes + carrots + onions {
  println!("potatoes + carrots + onions == {total}, great job!");
}
`;
export const validator = String(value => {
  /** @type {string} */
  const answer = value.substring(value.lastIndexOf("=") + 1, value.length-1).replace(" ", "");
  return (
    answer.includes("?") && "Replace ? with your answer." ||
    answer.includes("let") && "You're almost there! But you don't need to use \"let\" in this exercise." ||
    answer.split("+").some((x) => Number(x)) && "Copying each number isn't good enough.\nYou need to come up with a solution that works even if the numbers change.\nRemember to use the magical properties of the crates!" ||
    undefined
  );
});

<CodeQuestion question="What's the total number of vegetables in the grocery?" code={code} setup={setup} validator={validator} />
