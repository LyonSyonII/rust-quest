---
title: The Adventurer's Guild
description: An introduction to RustQuest
---

import { Card } from "@astrojs/starlight/components";
import QuestionCard from "@components/QuestionCard.astro";
import CodeBlock from "@components/CodeBlock.svelte";

export const errorMsg =
  'Woops, something went wrong and the code does not compile!\n\nIf you\'ve mistakenly messed up the code, click the "Reset" button to return it back to its original state.\n\nRemember to replace ? with your answer.';

export function SimpleQuestion({
  question,
  code,
  answer,
  correct,
  wrong,
  checkMessed = true,
}) {
  const no_dummy = code.toString().replace("?", "");
  const setup = `
        const VALUE: &str = "__VALUE__";
        if ${checkMessed} && !VALUE.starts_with("${no_dummy}") {
            println!("Seems like you've messed up the code, click the \\"Reset\\" button to return it back to its original state.");
            println!("Remember to only modify the ? part of the code.");
            return;
        }
        let a = VALUE.replace("${no_dummy}", "");
        match a.trim() {
            "${answer}" => println!("${correct}"),
            "?" => println!("Replace ? with your answer."),
            _ => println!("${wrong}"),
        }
    `.replaceAll("\n", "");
  return (
    <QuestionCard question={question}>
      <CodeBlock client:only code={code} setup={setup} />
    </QuestionCard>
  );
}
export function FreeQuestion({ question, code, correct }) {
  const setup = `
        const VALUE: &str = "__VALUE__";
        if VALUE.contains("?") {
            println!("Replace ? with your answer.");
            return;
        }
        if __VALUE__ {
            println!("${correct}");
        } else {
            println!("Your answer is wrong, try again!");
        }
    `.replaceAll("\n", "");
  return (
    <QuestionCard question={question}>
      <CodeBlock client:only code={code} setup={setup} errorMsg={errorMsg} />
    </QuestionCard>
  );
}

Morning adventurer!  
I see you're new on this town, welcome to Newlia, where new heroes are born!

Oh, you want to register as a new adventurer? And you want to choose the "Programmer" class?  
Good choice! Programmers are a very versatile class, give them enough time and they can do anything!

This class requires a small test, to ensure that you have the minimum problem solving skills. It'll be just a moment.  

Please, fill up the gaps in the following statements, replace "?" with the correct answer.

:::note[Don't worry]
If you mess up the code, click the "Reset" button to return it back to its original state.
:::

<SimpleQuestion
  question="What's five plus five?"
  code="5 + 5 == ?"
  answer="10"
  correct="5 + 5 == 10, good job!"
  wrong="5 + 5 != {a}, keep trying!"
/>

Well done! Let's continue.

<SimpleQuestion
  question="What's negative one minus one?"
  code="-1 - 1 == ?"
  answer="-2"
  correct="That's right, -2! I see you aren't fooled easily."
  wrong="-1 - 1 != {a}, keep trying!"
/>

All right, let's up the challenge a bit.

<SimpleQuestion
  question="What's the number that multiplied by two equals sixteen divided by four?"
  code="16 / 4 == 2 * ?"
  answer="2"
  correct="Perfect! Now you know how to make the computer do basic calculations for you, well done!"
  wrong="16 / 4 != 2 * {a}, keep trying!"
/>

Well well, Mr. Calculator knows his math!  
Just joking, I told you it would be pretty easy ;)

Now we'll do some comparisons, simple stuff.

<FreeQuestion
  question="Write any number higher than 200."
  code="200 < ?"
  correct="Correct!"
/>

<FreeQuestion
  question="Okay... Now a number smaller than 200."
  code="200 > ?"
  correct="Perfect!"
/>

<FreeQuestion
  question="Now one that's smaller or equal than 0."
  code="0 >= ?"
  correct="Good answer!"
/>

<FreeQuestion
  question="And finally one that's greater or equal than 0."
  code="0 <= ?"
  correct="Fantastic!"
/>

:::tip[Exercise]
See what we're doing here?  
Try rewriting the exercises above exactly how the question is formulated.

For example, the first one is currently saying `two hundred is smaller than ?` instead of `? is greater than two hundred`.
:::

Excellent!  
Now please sign here, and you'll be ready to take your first quest.

<QuestionCard>
  <CodeBlock
    client:only
    code={'let name = "?";'}
    setup={
      '__VALUE__ if name == "?" { println!("hint: just replace ? with your name!") } else { println!("{name}, welcome to the Adventurer\'s Guild!") }'
    }
    errorMsg={errorMsg}
  />
</QuestionCard>
